{
    "id": "/",
    "groups": [
      {
        "id": "/service",
        "dependencies": ["/database"],
        "apps": [
          {
            "id": "/service/seafile",
            "container": {
                "type": "DOCKER",
                "docker": {
                     "image": "mgreiner/seafile",
                     "network": "BRIDGE",
                     "portMappings": [
                         { "containerPort": 80, "hostPort": 80 },
                         { "containerPort": 8082, "hostPort": 8082 }
                     ],
                }
            },
            "cpus": 0.25,
            "disk": 1000,
            "mem": 1000.0,
            "constraints": [
                ["hostname", "UNIQUE"]
            ]
          }
        ]
      },{
        "id": "/database",
        "apps": [
          {
            "id": "/database/mysql",
            "container": {
                "type": "DOCKER",
                "docker": {
                     "image": "mysql:5.7",
                     "network": "BRIDGE",
                     "portMappings": [
                         { "containerPort": 3306, "hostPort": 0 }
                     ],
                     "parameters": [
                         { "key": "env", "value": "MYSQL_ROOT_PASSWORD=my-secret-pw" }
                     ]
                },
                "volumes": []
            },
            "healthChecks": [
              {
                "protocol": "COMMAND",
                "command": { "value": "exit 0" },
                "gracePeriodSeconds": 5,
                "intervalSeconds": 10,
                "timeoutSeconds": 10,
                "maxConsecutiveFailures": 3
              }
            ],
            "cpus": 0.25,
            "disk": 1000,
            "mem": 1000.0
          }
        ]
      }
    ]
}

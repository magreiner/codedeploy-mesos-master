{
  "id": "/",
  "groups": [{
    "id": "/service",
    "apps": [{
      "id": "/service/seafile",
      "cpus": 0.25,
      "disk": 0,
      "mem": 1000.0,
      "instances": 2,
      "constraints": [
          ["hostname", "UNIQUE"]
      ],
      "container": {
        "type": "DOCKER",
        "volumes": [],
        "docker": {
          "image": "mgreiner/seafile",
          "network": "BRIDGE",
          "portMappings": [{
            "containerPort": 80,
            "hostPort": 0,
            "servicePort": 80,
            "protocol": "tcp"
          },{
            "containerPort": 443,
            "hostPort": 0,
            "servicePort": 443,
            "protocol": "tcp"
          },{
            "containerPort": 8082,
            "hostPort": 0,
            "servicePort": 8082,
            "protocol": "tcp"
          }],
          "privileged": false,
          "parameters": [],
          "forcePullImage": false
        }
      },
      "healthChecks": [{
        "path": "/",
        "protocol": "HTTP",
        "portIndex": 0,
        "gracePeriodSeconds": 60,
        "intervalSeconds": 10,
        "timeoutSeconds": 20,
        "maxConsecutiveFailures": 3
      },{
        "protocol": "TCP",
        "portIndex": 1,
        "gracePeriodSeconds": 60,
        "intervalSeconds": 10,
        "timeoutSeconds": 20,
        "maxConsecutiveFailures": 3
      },{
        "protocol": "TCP",
        "portIndex": 2,
        "gracePeriodSeconds": 60,
        "intervalSeconds": 10,
        "timeoutSeconds": 20,
        "maxConsecutiveFailures": 3
      }],
      "labels":{
        "HAPROXY_GROUP":"ext",
        "consul": "true"
      }
    }]
  }]
}
